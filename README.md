# DC Gallery ì„¸ê³„ê´€ ë¶„ì„ ì‹œìŠ¤í…œ

> DC Inside ì •ì¹˜ ì»¤ë®¤ë‹ˆí‹° ë‹´ë¡ ì˜ **ì„¸ê³„ê´€ êµ¬ì¡°**ë¥¼ ìë™ìœ¼ë¡œ ë¶„ì„í•˜ì—¬, ì¼ë°˜ì¸(íŠ¹íˆ ë”ë¶ˆì–´ë¯¼ì£¼ë‹¹ ì§€ì§€ì)ì´ ìƒëŒ€ë°©ì˜ ì‚¬ê³  ì²´ê³„ë¥¼ ì´í•´í•  ìˆ˜ ìˆë„ë¡ ë•ëŠ” AI ëª¨ë‹ˆí„°ë§ ì‹œìŠ¤í…œ

[![License: MIT](https://img.shields.io/badge/License-MIT-yellow.svg)](https://opensource.org/licenses/MIT)
[![Python 3.11+](https://img.shields.io/badge/python-3.11+-blue.svg)](https://www.python.org/downloads/)
[![Next.js 14](https://img.shields.io/badge/Next.js-14-black)](https://nextjs.org/)

## ğŸ“‹ ëª©ì°¨

- [í”„ë¡œì íŠ¸ ê°œìš”](#-í”„ë¡œì íŠ¸-ê°œìš”)
- [í•µì‹¬ ê°œë…](#-í•µì‹¬-ê°œë…)
- [ì‹œìŠ¤í…œ ì•„í‚¤í…ì²˜](#-ì‹œìŠ¤í…œ-ì•„í‚¤í…ì²˜)
- [ë¹ ë¥¸ ì‹œì‘](#-ë¹ ë¥¸-ì‹œì‘)
- [ì£¼ìš” ê¸°ëŠ¥](#-ì£¼ìš”-ê¸°ëŠ¥)
- [ë°ì´í„° íŒŒì´í”„ë¼ì¸](#-ë°ì´í„°-íŒŒì´í”„ë¼ì¸)
- [ì„¸ê³„ê´€ êµ¬ì¡°](#-ì„¸ê³„ê´€-êµ¬ì¡°)
- [ëŒ€ì‹œë³´ë“œ](#-ëŒ€ì‹œë³´ë“œ)
- [ê°œë°œ ê°€ì´ë“œ](#-ê°œë°œ-ê°€ì´ë“œ)

---

## ğŸ¯ í”„ë¡œì íŠ¸ ê°œìš”

### ëˆ„êµ¬ë¥¼ ìœ„í•œ í”„ë¡œì íŠ¸ì¸ê°€?

**ì¼ë°˜ì¸, íŠ¹íˆ ë”ë¶ˆì–´ë¯¼ì£¼ë‹¹ ì§€ì§€ì**ë¥¼ ìœ„í•œ ë„êµ¬ì…ë‹ˆë‹¤.
- DC Inside ì •ì¹˜ ì»¤ë®¤ë‹ˆí‹°ì˜ ë‹´ë¡ ì´ "ì™œ ì €ë ‡ê²Œ ìƒê°í•˜ëŠ”ì§€" ì´í•´í•˜ê³  ì‹¶ì€ ë¶„
- ì˜¨/ì˜¤í”„ë¼ì¸ì—ì„œ ìƒëŒ€ë°©ê³¼ ëŒ€í™”í•  ë•Œ ë§¥ë½ì„ íŒŒì•…í•˜ê³  ì‹¶ì€ ë¶„
- ì •ì¹˜ ë‹´ë¡ ì˜ ì‹¬ì¸µ êµ¬ì¡°ë¥¼ í•™ìŠµí•˜ê³  ì‹¶ì€ ë¶„

### í•´ê²°í•˜ë ¤ëŠ” ë¬¸ì œ

DC Insideì˜ ì •ì¹˜ ë‹´ë¡ ì€ ë‹¨ìˆœí•œ "ì˜ê²¬"ì´ ì•„ë‹Œ **ì²´ê³„ì ì¸ ì„¸ê³„ê´€**ì— ê¸°ë°˜í•©ë‹ˆë‹¤. ì´ ì„¸ê³„ê´€ì„ ì´í•´í•˜ì§€ ëª»í•˜ë©´:
- í‘œë©´ì  ì£¼ì¥ë§Œ ë°˜ë°•í•´ë„ íš¨ê³¼ê°€ ì—†ìŒ
- ì‹¬ì¸µ ë¯¿ìŒ(deep beliefs)ì€ ê·¸ëŒ€ë¡œ ë‚¨ìŒ
- ëŒ€í™”ê°€ í‰í–‰ì„ ì„ ê·¸ìŒ

### ìš°ë¦¬ì˜ ì ‘ê·¼

**ìë™ ëª¨ë‹ˆí„°ë§ + 3-Layer ë¶„ì„**ì„ í†µí•´ ë‹´ë¡ ì˜ ì‹¬ì¸µ êµ¬ì¡°ë¥¼ íŒŒì•…í•˜ê³ , **ê³„ì¸µí˜• ì„¸ê³„ê´€**ìœ¼ë¡œ ì¡°ì§í™”í•˜ì—¬ ì‹¤ì‹œê°„ìœ¼ë¡œ ì œì‹œí•©ë‹ˆë‹¤.

```
í‘œë©´ì¸µ (Explicit Claims)
  â†“
ì•”ë¬µì¸µ (Implicit Assumptions)
  â†“
ì‹¬ì¸µ (Deep Beliefs) â† ì„¸ê³„ê´€ì˜ í•µì‹¬
```

### í•µì‹¬ ê°€ì¹˜

1. **ë§¥ë½ ì´í•´**: ì™œ ê·¸ë ‡ê²Œ ìƒê°í•˜ëŠ”ì§€ êµ¬ì¡°ì ìœ¼ë¡œ ì´í•´
2. **íš¨ê³¼ì  ëŒ€í™”**: ì‹¬ì¸µ ë¯¿ìŒì„ ì¸ì§€í•œ ëŒ€ì‘ ê°€ëŠ¥
3. **ë°ì´í„° ê¸°ë°˜**: GPT-4oë¥¼ í™œìš©í•œ ëŒ€ê·œëª¨ ë¶„ì„

---

## ğŸ’¡ í•µì‹¬ ê°œë…

### ì„¸ê³„ê´€ (Worldview)ì´ë€?

íŠ¹ì • ì§‘ë‹¨ì´ ê³µìœ í•˜ëŠ” **í•´ì„ í”„ë ˆì„ì›Œí¬**:

```python
{
  "category": "ë¯¼ì£¼ë‹¹/ì¢ŒíŒŒì— ëŒ€í•œ ì¸ì‹",
  "subcategory": "ë…ì¬ ì¬í˜„",

  "narrative": {
    "summary": "ë¯¼ì£¼ë‹¹ì€ ê³¼ê±° ë…ì¬ ì •ê¶Œì˜ ë°©ì‹ì„ ì¬í˜„í•˜ê³  ìˆë‹¤",

    "examples": [{
      "case": "ìœ ì‹¬êµì²´ ì •ë³´ ìœ ì¶œ",
      "dc_interpretation": "ì‚¬ì°°ì„ í†µí•œ ë…ì¬ì  í†µì¹˜ ì‹œë„",
      "normal_interpretation": "ì •ë³´ ìœ ì¶œ ì‚¬ê±´",
      "gap": "ì˜ë„ì  ë…ì¬ vs ì •ë³´ ë¬¸ì œ"
    }],

    "logic_chain": "ì‚¬ì°° â†’ ê¶Œë ¥ ì¥ì•… â†’ ë…ì¬ ì‚¬íšŒ"
  },

  "metadata": {
    "core": {
      "primary_subject": "ë¯¼ì£¼ë‹¹",
      "primary_attribute": "ë…ì¬ì  ì„±í–¥"
    },
    "slippery_slope": {
      "trigger": "ì‚¬ì°° ì‚¬ê±´",
      "escalation": "ê¶Œë ¥ ì¥ì•… ì‹œë„",
      "endpoint": "ë…ì¬ ì‚¬íšŒ"
    },
    "emotional_drivers": {
      "primary": "ë¶ˆì‹ ",
      "urgency_level": "ë†’ìŒ"
    }
  }
}
```

### ì™œ ì„¸ê³„ê´€ì¸ê°€?

| ê¸°ì¡´ ì ‘ê·¼ | ì„¸ê³„ê´€ ì ‘ê·¼ |
|----------|-----------|
| ê°œë³„ ì£¼ì¥ ë°˜ë°• | ì‹¬ì¸µ ë¯¿ìŒ ì´í•´ |
| "ê·¸ê±´ í‹€ë ¸ì–´" | "ì™œ ê·¸ë ‡ê²Œ ìƒê°í•˜ëŠ”ì§€ ì´í•´í•´" |
| íš¨ê³¼ ì—†ìŒ | íš¨ê³¼ì  ëŒ€í™” ê°€ëŠ¥ |

---

## ğŸ— ì‹œìŠ¤í…œ ì•„í‚¤í…ì²˜

### ì „ì²´ í”Œë¡œìš°

```mermaid
graph TB
    A[DC Gallery] -->|í¬ë¡¤ë§| B[contents í…Œì´ë¸”]
    B -->|3-Layer ë¶„ì„| C[layered_perceptions]
    C -->|ì„¸ê³„ê´€ êµ¬ì„±| D[worldviews]
    D -->|ë§¤ì¹­| E[perception_worldview_links]
    E -->|ì‹œê°í™”| F[Next.js ëŒ€ì‹œë³´ë“œ]

    G[GPT-4o] -.->|ë¶„ì„| C
    G -.->|êµ¬ì„±| D
```

### ê¸°ìˆ  ìŠ¤íƒ

**ë°±ì—”ë“œ**
- Python 3.11+ (asyncio)
- OpenAI GPT-5 / GPT-5-mini
- Supabase (PostgreSQL + pgvector)

**í”„ë¡ íŠ¸ì—”ë“œ**
- Next.js 14 (App Router)
- TypeScript
- TailwindCSS
- SWR (data fetching)

**ì¸í”„ë¼**
- GitHub Actions (ìë™í™”)
- Vercel (ëŒ€ì‹œë³´ë“œ ë°°í¬)

---

## ğŸš€ ë¹ ë¥¸ ì‹œì‘

### 1. í™˜ê²½ ì„¤ì •

```bash
# ì €ì¥ì†Œ í´ë¡ 
git clone https://github.com/yourusername/moniterdc.git
cd moniterdc

# Python í™˜ê²½
python -m venv venv
source venv/bin/activate  # Windows: venv\Scripts\activate
pip install -r requirements.txt

# ëŒ€ì‹œë³´ë“œ í™˜ê²½
cd dashboard
npm install
```

### 2. í™˜ê²½ë³€ìˆ˜ ì„¤ì •

```bash
# .env
SUPABASE_URL=https://your-project.supabase.co
SUPABASE_SERVICE_KEY=your-service-key
SUPABASE_ANON_KEY=your-anon-key
OPENAI_API_KEY=sk-proj-...

# dashboard/.env.local
NEXT_PUBLIC_SUPABASE_URL=https://your-project.supabase.co
NEXT_PUBLIC_SUPABASE_ANON_KEY=your-anon-key
```

### 3. ë°ì´í„°ë² ì´ìŠ¤ ë§ˆì´ê·¸ë ˆì´ì…˜

```bash
# Supabase Dashboardì—ì„œ ì‹¤í–‰
# supabase/migrations/*.sql íŒŒì¼ë“¤ì„ ìˆœì„œëŒ€ë¡œ ì‹¤í–‰
```

### 4. ì‹¤í–‰

```bash
# ë°ì´í„° ìˆ˜ì§‘ ë° ë¶„ì„
python phase1_collect_data.py      # 1. í¬ë¡¤ë§
python phase3_layered_analysis.py  # 2. 3-Layer ë¶„ì„

# ì„¸ê³„ê´€ êµ¬ì„±
python -c "
import asyncio
from engines.analyzers.optimal_worldview_constructor import OptimalWorldviewConstructor

async def main():
    constructor = OptimalWorldviewConstructor()
    await constructor.build_hierarchical_worldviews()

asyncio.run(main())
"

# ëŒ€ì‹œë³´ë“œ ì‹¤í–‰
cd dashboard
npm run dev
# http://localhost:3000
```

---

## ğŸ¨ ì£¼ìš” ê¸°ëŠ¥

### 1. 3-Layer ë¶„ì„

**LayeredPerceptionExtractor**ê°€ ê° ê²Œì‹œê¸€ì„ 3ê°œ ì¸µìœ¼ë¡œ ë¶„ì„:

```python
{
  "explicit_claims": [
    {
      "subject": "ë¯¼ì£¼ë‹¹",
      "predicate": "ìœ ì‹¬êµì²´ ì •ë³´ë¥¼ ë¶ˆë²•ìœ¼ë¡œ ì–»ì—ˆë‹¤",
      "quote": "ìœ ì‹¬êµì²´ë¥¼ ì–´ë–»ê²Œ ì•Œì•„"
    }
  ],

  "implicit_assumptions": [
    "ë¯¼ì£¼ë‹¹ì€ í†µì‹ ì‚¬ë¥¼ í˜‘ë°•í•´ì„œ ì •ë³´ë¥¼ ì–»ëŠ”ë‹¤",
    "ì´ëŸ° ì‚¬ì°°ì€ ë…ì¬ì˜ ì‹œì‘ì´ë‹¤"
  ],

  "deep_beliefs": [
    "ë¯¼ì£¼ë‹¹/ì¢ŒíŒŒëŠ” ê³¼ê±° ë…ì¬ì •ê¶Œì²˜ëŸ¼ ì‚¬ì°°ë¡œ ë°˜ëŒ€íŒŒë¥¼ ì œê±°í•œë‹¤",
    "ì§€ê¸ˆì˜ ì‘ì€ ì‚¬ì°°ì´ ê³§ ì „ë©´ì  ê°ì‹œë…ì¬ ì‚¬íšŒë¡œ ë°œì „í•œë‹¤"
  ],

  "worldview_hints": "ê³¼ê±° ë…ì¬ â†’ í˜„ì¬ ì¬í˜„, ì¢ŒíŒŒ = ë…ì¬ ë³¸ì„±"
}
```

### 2. ì„¸ê³„ê´€ ìë™ ë°œê²¬

**OptimalWorldviewConstructor**ê°€ ê³„ì¸µí˜• ì„¸ê³„ê´€ì„ ìë™ìœ¼ë¡œ ë°œê²¬í•˜ê³  ìƒì„±:

- **ë™ì  ìƒì„±**: ê³ ì •ëœ ì¹´í…Œê³ ë¦¬ê°€ ì•„ë‹˜, ë°ì´í„°ì—ì„œ íŒ¨í„´ì„ ë°œê²¬
- **ìë™ ì—…ë°ì´íŠ¸**: ìƒˆë¡œìš´ ë‹´ë¡  íŒ¨í„´ì´ ê°ì§€ë˜ë©´ ì„¸ê³„ê´€ ì¶”ê°€/ë³€ê²½
- **ê³„ì¸µ êµ¬ì¡°**: ëŒ€ë¶„ë¥˜ â†’ ì„¸ë¶€ ì„¸ê³„ê´€ìœ¼ë¡œ ìë™ ì¡°ì§í™”

**í˜„ì¬ ë°œê²¬ëœ ì„¸ê³„ê´€ (2025-01 ê¸°ì¤€)**
- 3ê°œ ëŒ€ë¶„ë¥˜, 6ê°œ ì„¸ë¶€ ì„¸ê³„ê´€
- ë¯¼ì£¼ë‹¹/ì¢ŒíŒŒì— ëŒ€í•œ ì¸ì‹ > ë…ì¬ ì¬í˜„
- ì™¸ë¶€ ì„¸ë ¥ì˜ ìœ„í˜‘ > ì¤‘êµ­ì˜ ë¶€ì •ì  ì˜í–¥
- (ê³„ì† ì¶”ê°€/ë³€ê²½ë¨)

### 3. Hybrid ë§¤ì¹­

**Vector Embedding (70%) + Keyword (30%)**ë¡œ perceptionì„ ì„¸ê³„ê´€ì— ìë™ ë¶„ë¥˜:

```python
hybrid_score = (
    0.7 * cosine_similarity(perception_embedding, worldview_embedding) +
    0.3 * keyword_match_score(perception_keywords, worldview_concepts)
)

if hybrid_score > 0.5:
    create_link(perception_id, worldview_id, hybrid_score)
```

### 4. ëŒ€ì‹œë³´ë“œ ì‹œê°í™”

- **ê³„ì¸µí˜• ë„¤ë¹„ê²Œì´ì…˜**: ëŒ€ë¶„ë¥˜ â†’ ì„¸ë¶€ ì„¸ê³„ê´€
- **ì›ë³¸ ê¸€ ë³´ê¸°**: ì„¸ê³„ê´€ì´ ë°œê²¬ëœ ì‹¤ì œ DC Gallery ê¸€
- **Narrative í‘œì‹œ**: DC í•´ì„ vs ì¼ë°˜ í•´ì„ ëŒ€ë¹„
- **ë°˜ë°• ë…¼ë¦¬** (ê°œë°œ ì¤‘): ê° ì„¸ê³„ê´€ì— ëŒ€í•œ íš¨ê³¼ì  ëŒ€ì‘

---

## ğŸ“Š ë°ì´í„° íŒŒì´í”„ë¼ì¸

### ìë™ ëª¨ë‹ˆí„°ë§ (GitHub Actions)

ì‹œìŠ¤í…œì€ **ìë™ìœ¼ë¡œ** ë‹¤ìŒì„ ìˆ˜í–‰í•©ë‹ˆë‹¤:
- DC Inside ë¯¸êµ­ì •ì¹˜ ê°¤ëŸ¬ë¦¬(`uspolitics`) ëª¨ë‹ˆí„°ë§
- ìƒˆ ê²Œì‹œê¸€ ìˆ˜ì§‘ ë° 3-Layer ë¶„ì„
- ì„¸ê³„ê´€ ìë™ ì—…ë°ì´íŠ¸ ë° ë§¤ì¹­

### ìˆ˜ë™ ì‹¤í–‰ (ê°œë°œììš©)

**1. ë°ì´í„° ìˆ˜ì§‘**
```bash
python scripts/collect_500_posts.py
```
- DC Galleryì—ì„œ ê°œë…ê¸€ ìˆ˜ì§‘
- `contents` í…Œì´ë¸”ì— ì €ì¥

**2. 3-Layer ë¶„ì„**
```python
import asyncio
from engines.analyzers.layered_perception_extractor import LayeredPerceptionExtractor

extractor = LayeredPerceptionExtractor()
# ê° contentì— ëŒ€í•´ extract_layered_perception() ì‹¤í–‰
```
- GPT-5-mini ì‚¬ìš©
- `layered_perceptions` í…Œì´ë¸”ì— ì €ì¥
- ë¹„ìš©: ~$0.05/ê¸€

**3. ì„¸ê³„ê´€ êµ¬ì„±**
```python
import asyncio
from engines.analyzers.optimal_worldview_constructor import OptimalWorldviewConstructor

async def main():
    constructor = OptimalWorldviewConstructor()
    await constructor.construct_all()

asyncio.run(main())
```
- GPT-5 ì‚¬ìš©í•˜ì—¬ ì„¸ê³„ê´€ ìë™ ë°œê²¬
- `worldviews` í…Œì´ë¸”ì— ì €ì¥
- `perception_worldview_links` ìë™ ìƒì„±

**4. ì§€ì†ì  ì—…ë°ì´íŠ¸**
```python
import asyncio
from engines.analyzers.worldview_updater import WorldviewUpdater

async def main():
    updater = WorldviewUpdater()
    await updater.daily_update()  # ì¼ì¼ ì—…ë°ì´íŠ¸
    # await updater.weekly_update()  # ì£¼ê°„ ì˜ˆì‹œ ë³´ê°•
    # await updater.check_and_rebuild_if_needed()  # ì¬êµ¬ì„± íŒë‹¨

asyncio.run(main())
```

---

## ğŸŒ ì„¸ê³„ê´€ êµ¬ì¡°

### ì˜ˆì‹œ: "ë…ì¬ ì¬í˜„" ì„¸ê³„ê´€

**Narrative** (ì´ì•¼ê¸°)
```
ë¯¼ì£¼ë‹¹ì€ ê³¼ê±° ë…ì¬ ì •ê¶Œì˜ ë°©ì‹ì„ ì¬í˜„í•˜ê³  ìˆë‹¤.

ì˜ˆì‹œ: ìœ ì‹¬êµì²´ ì •ë³´ ì‚¬ê±´
- DC Gallery í•´ì„:
  ì‚¬ì°°ì„ í†µí•œ ë…ì¬ì  í†µì¹˜ë¥¼ ì‹œë„í•˜ê³  ìˆë‹¤

- ì¼ë°˜ì  í•´ì„:
  ì •ì¹˜ì  ë…¼ë€ ì†ì˜ ì •ë³´ ìœ ì¶œ ì‚¬ê±´

- í•´ì„ ì°¨ì´ì˜ í•µì‹¬:
  ì˜ë„ì  ë…ì¬ ì‹œë„ vs ì •ë³´ ìœ ì¶œ ë¬¸ì œ

ë…¼ë¦¬ ì—°ì‡„: ì‚¬ì°° â†’ ê¶Œë ¥ ì¥ì•… â†’ ë…ì¬ ì‚¬íšŒ
```

**Metadata** (êµ¬ì¡°)
```json
{
  "core": {
    "primary_subject": "ë¯¼ì£¼ë‹¹",
    "primary_attribute": "ë…ì¬ì  ì„±í–¥",
    "primary_action": "ì‚¬ì°°ì„ í†µí•œ ê¶Œë ¥ ì¥ì•…"
  },

  "interpretation_frame": {
    "historical_lens": {
      "reference_period": "ê³¼ê±° ë…ì¬ ì‹œëŒ€",
      "reference_events": ["ì‚¬ì°° ì‚¬ê±´", "ê¶Œë ¥ ì§‘ì¤‘"],
      "projection_logic": "ê³¼ê±° íŒ¨í„´ â†’ í˜„ì¬ ë°˜ë³µ"
    },

    "slippery_slope": {
      "trigger": "ì‚¬ì°° ì‚¬ê±´",
      "escalation": "ê¶Œë ¥ ì¥ì•… ì‹œë„",
      "endpoint": "ë…ì¬ ì‚¬íšŒ"
    }
  },

  "emotional_drivers": {
    "primary": "ë¶ˆì‹ ",
    "secondary": ["ë¶ˆì•ˆ", "ê²½ê³„"],
    "urgency_level": "ë†’ìŒ"
  }
}
```

**Deconstruction** (ë°˜ë°• ë…¼ë¦¬) - ê°œë°œ ì¤‘
```json
{
  "logical_flaws": [
    {
      "type": "ìŠ¬ë¦¬í¼ë¦¬ ìŠ¬ë¡œí”„",
      "description": "ì‚¬ì°° ì‚¬ê±´ â†’ ë…ì¬ ì‚¬íšŒë¡œì˜ í•„ì—°ì  ë°œì „ ê°€ì •",
      "rebuttal": "ë‹¨ì¼ ì‚¬ê±´ê³¼ ì²´ì œ ë³€í™”ëŠ” ë‹¤ë¥¸ ì°¨ì›ì˜ ë¬¸ì œ"
    }
  ],

  "fact_checks": [
    {
      "claim": "ë¯¼ì£¼ë‹¹ì´ í†µì‹ ì‚¬ë¥¼ í˜‘ë°•í•´ ì •ë³´ ì·¨ë“",
      "reality": "ì •ë³´ ìœ ì¶œ ê²½ë¡œëŠ” ë‹¤ì–‘í•˜ë©° í˜‘ë°• ì¦ê±° ì—†ìŒ",
      "evidence": "[íŒ©íŠ¸ì²´í¬ ë§í¬]"
    }
  ]
}
```

---

## ğŸ–¥ ëŒ€ì‹œë³´ë“œ

### ì ‘ì†

```bash
cd dashboard
npm run dev
# http://localhost:3000
```

### í™”ë©´ êµ¬ì„±

**1. ë©”ì¸ í˜ì´ì§€** - ê³„ì¸µí˜• ì„¸ê³„ê´€ ë§µ
- 3ê°œ ëŒ€ë¶„ë¥˜ ì¹´í…Œê³ ë¦¬
- ê° ì¹´í…Œê³ ë¦¬ë³„ ì„¸ë¶€ ì„¸ê³„ê´€
- perception ê°œìˆ˜, ê°•ë„ í‘œì‹œ

**2. ì„¸ê³„ê´€ ìƒì„¸ í˜ì´ì§€** (`/worldviews/[id]`)
- Narrative (ì˜ˆì‹œ ì¤‘ì‹¬ ì„¤ëª…)
- Metadata ì‹œê°í™”
  - Core (ì£¼ì²´ = ì†ì„±)
  - Slippery Slope ë‹¤ì´ì–´ê·¸ë¨
  - Emotional Drivers
- **ì›ë³¸ ê¸€ ëª©ë¡** â† ì‹¤ì œ DC Gallery ê²Œì‹œê¸€
  - ì œëª©, ë³¸ë¬¸ ë¯¸ë¦¬ë³´ê¸°
  - ì›ë¬¸ ë§í¬ (DC Gallery)
  - ì¶”ì¶œëœ perception í‘œì‹œ
- ë°˜ë°• ë…¼ë¦¬ (ê°œë°œ ì¤‘)

**3. ê²€ìƒ‰ ê¸°ëŠ¥** (ê°œë°œ ì¤‘)
- í‚¤ì›Œë“œë¡œ ì„¸ê³„ê´€ ê²€ìƒ‰
- ê´€ë ¨ ì„¸ê³„ê´€ ì¶”ì²œ

---

## ğŸ‘¨â€ğŸ’» ê°œë°œ ê°€ì´ë“œ

### í”„ë¡œì íŠ¸ êµ¬ì¡°

```
moniterdc/
â”œâ”€â”€ engines/                    # í•µì‹¬ ë¶„ì„ ì—”ì§„
â”‚   â”œâ”€â”€ analyzers/              # âœ… NEW schema ì „ìš©
â”‚   â”‚   â”œâ”€â”€ layered_perception_extractor.py  # 3-Layer ë¶„ì„
â”‚   â”‚   â”œâ”€â”€ optimal_worldview_constructor.py # ì„¸ê³„ê´€ ìë™ ë°œê²¬
â”‚   â”‚   â”œâ”€â”€ worldview_updater.py            # ìë™ ì—…ë°ì´íŠ¸
â”‚   â”‚   â”œâ”€â”€ belief_normalizer.py            # ì‹ ë… ì •ê·œí™”
â”‚   â”‚   â””â”€â”€ context_guide_builder.py        # ë§¥ë½ ê°€ì´ë“œ
â”‚   â”œâ”€â”€ collectors/
â”‚   â”‚   â””â”€â”€ content_collector.py            # í†µí•© ìˆ˜ì§‘ ì—”ì§„
â”‚   â”œâ”€â”€ adapters/
â”‚   â”‚   â””â”€â”€ dc_gallery_adapter.py           # DC Gallery ì–´ëŒ‘í„°
â”‚   â””â”€â”€ utils/
â”‚       â”œâ”€â”€ supabase_client.py
â”‚       â””â”€â”€ embedding_utils.py
â”‚
â”œâ”€â”€ dashboard/                  # Next.js ëŒ€ì‹œë³´ë“œ (ê°œí¸ ì˜ˆì •)
â”‚   â”œâ”€â”€ app/
â”‚   â”‚   â”œâ”€â”€ page.tsx           # ë©”ì¸ í˜ì´ì§€
â”‚   â”‚   â”œâ”€â”€ worldviews/[id]/page.tsx  # ì„¸ê³„ê´€ ìƒì„¸
â”‚   â”‚   â””â”€â”€ api/worldviews/    # API
â”‚   â””â”€â”€ components/
â”‚
â”œâ”€â”€ supabase/migrations/        # DB ìŠ¤í‚¤ë§ˆ (NEW schema)
â”‚   â”œâ”€â”€ 100_create_contents.sql
â”‚   â”œâ”€â”€ 201_create_layered_perceptions.sql
â”‚   â”œâ”€â”€ 103_create_worldviews.sql
â”‚   â””â”€â”€ 203_create_perception_worldview_links.sql
â”‚
â”œâ”€â”€ scripts/                    # ì‹¤í–‰ ìŠ¤í¬ë¦½íŠ¸
â”‚   â”œâ”€â”€ collect_500_posts.py   # ë°ì´í„° ìˆ˜ì§‘
â”‚   â””â”€â”€ complete_setup.py      # ì „ì²´ ì„¤ì •
â”‚
â”œâ”€â”€ _deprecated/                # ì‚¬ìš© ì•ˆ í•¨ (OLD schema)
â”‚   â””â”€â”€ engines/               # perception_extractor ë“±
â”‚
â””â”€â”€ README.md                   # ì´ ë¬¸ì„œ
```

### í•µì‹¬ í´ë˜ìŠ¤

**LayeredPerceptionExtractor**
```python
from engines.analyzers.layered_perception_extractor import LayeredPerceptionExtractor

extractor = LayeredPerceptionExtractor()
perception = await extractor.extract_layered_perception(
    content_id="...",
    title="...",
    body="..."
)
```

**OptimalWorldviewConstructor**
```python
from engines.analyzers.optimal_worldview_constructor import OptimalWorldviewConstructor

constructor = OptimalWorldviewConstructor()

# ê³„ì¸µí˜• ì„¸ê³„ê´€ êµ¬ì„±
worldviews = await constructor.build_hierarchical_worldviews()

# perception ë§¤ì¹­
await constructor._match_perceptions_to_worldviews(perceptions, worldviews)
```

**WorldviewUpdater**
```python
from engines.analyzers.worldview_updater import WorldviewUpdater

updater = WorldviewUpdater()

# ì¼ì¼ ì—…ë°ì´íŠ¸
await updater.daily_update()

# ì£¼ê°„ ì—…ë°ì´íŠ¸ (ì˜ˆì‹œ ì¶”ê°€)
await updater.weekly_update()

# ì›”ê°„ ì²´í¬ (ì¬êµ¬ì„± í•„ìš” ì‹œ)
await updater.check_and_rebuild_if_needed()
```

### API ì—”ë“œí¬ì¸íŠ¸

**GET /api/worldviews**
```typescript
// ì„¸ê³„ê´€ ëª©ë¡ ì¡°íšŒ
const { worldviews, pagination } = await fetch('/api/worldviews?limit=50')
  .then(r => r.json())
```

**GET /api/worldviews/:id**
```typescript
// ì„¸ê³„ê´€ ìƒì„¸ ì¡°íšŒ
const {
  ...worldview,
  perceptions,     // ì—°ê²°ëœ perception ëª©ë¡
  contents,        // ì›ë³¸ ê¸€ ëª©ë¡
  strength_history // ê°•ë„ ë³€í™” íˆìŠ¤í† ë¦¬
} = await fetch(`/api/worldviews/${id}`).then(r => r.json())
```

### ë°ì´í„°ë² ì´ìŠ¤ ìŠ¤í‚¤ë§ˆ

**ì£¼ìš” í…Œì´ë¸”**

```sql
-- ì›ë³¸ ê¸€
CREATE TABLE contents (
    id UUID PRIMARY KEY,
    title TEXT,
    body TEXT,
    source_url TEXT,
    gallery_id TEXT,
    published_at TIMESTAMPTZ
);

-- 3-Layer ë¶„ì„ ê²°ê³¼
CREATE TABLE layered_perceptions (
    id UUID PRIMARY KEY,
    content_id UUID REFERENCES contents(id),
    explicit_claims JSONB,
    implicit_assumptions JSONB,
    deep_beliefs JSONB,
    worldview_hints TEXT
);

-- ì„¸ê³„ê´€
CREATE TABLE worldviews (
    id UUID PRIMARY KEY,
    title TEXT,
    frame JSONB,  -- { category, subcategory, narrative, metadata }
    strength_overall FLOAT,
    total_perceptions INT
);

-- perception â†” worldview ì—°ê²°
CREATE TABLE perception_worldview_links (
    id UUID PRIMARY KEY,
    perception_id UUID REFERENCES layered_perceptions(id),
    worldview_id UUID REFERENCES worldviews(id),
    relevance_score FLOAT
);
```

---

## ğŸ”„ ìë™í™”

### GitHub Actions

**.github/workflows/daily_update.yml**
```yaml
name: Daily Worldview Update

on:
  schedule:
    - cron: '0 2 * * *'  # ë§¤ì¼ ì˜¤ì „ 2ì‹œ (KST 11ì‹œ)
  workflow_dispatch:

jobs:
  update:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v3
      - name: Setup Python
        uses: actions/setup-python@v4
        with:
          python-version: '3.11'
      - name: Install dependencies
        run: pip install -r requirements.txt
      - name: Run daily update
        env:
          SUPABASE_URL: ${{ secrets.SUPABASE_URL }}
          SUPABASE_SERVICE_KEY: ${{ secrets.SUPABASE_SERVICE_KEY }}
          OPENAI_API_KEY: ${{ secrets.OPENAI_API_KEY }}
        run: |
          python -c "
          import asyncio
          from engines.analyzers.worldview_updater import WorldviewUpdater
          asyncio.run(WorldviewUpdater().daily_update())
          "
```

---

## ğŸ“ˆ ì„±ê³¼ ë° í†µê³„

### í˜„ì¬ ë°ì´í„°

- **ì›ë³¸ ê¸€**: 297ê°œ
- **Perception**: 297ê°œ (3-Layer ë¶„ì„ ì™„ë£Œ)
- **ì„¸ê³„ê´€**: 6ê°œ (ê³„ì¸µí˜•)
- **ë§í¬**: 26ê°œ (perception-worldview)

### ì„¸ê³„ê´€ë³„ ë¶„í¬

| ì„¸ê³„ê´€ | Perception ìˆ˜ |
|--------|--------------|
| ì¤‘êµ­ì˜ ë¶€ì •ì  ì˜í–¥ | 10ê°œ |
| ì¢ŒíŒŒì˜ ì‚¬íšŒì  ìœ„í˜‘ | 7ê°œ |
| ë…ì¬ ì¬í˜„ | 5ê°œ |
| ë¶í•œì˜ ì§€ì†ì  ìœ„í˜‘ | 3ê°œ |
| ì‚¬ë²•ë¶€ì™€ ì–¸ë¡ ì˜ ê²°íƒ | 1ê°œ |

### ë¹„ìš© ë¶„ì„ (GPT-4o)

- 3-Layer ë¶„ì„: ~$0.05/ê¸€
- ì„¸ê³„ê´€ êµ¬ì„±: ~$0.30/ì„¸ê³„ê´€
- ì¼ì¼ ì—…ë°ì´íŠ¸: ~$0.10/ì¼

---

## ğŸš§ ê°œë°œ ì¤‘ ê¸°ëŠ¥

### 1. ë°˜ë°• ë…¼ë¦¬ ìƒì„± (Deconstruction)

ê° ì„¸ê³„ê´€ì— ëŒ€í•œ 6ê°€ì§€ ë°˜ë°• ì „ëµ:
- ë…¼ë¦¬ì  ê²°í•¨ (Logical Flaws)
- íŒ©íŠ¸ì²´í¬ (Fact Checks)
- ëŒ€ì•ˆì  í•´ì„ (Alternative Interpretations)
- ì—­ì‚¬ì  ìˆ˜ì • (Historical Corrections)
- ê°ì •ì  ì´í•´ (Emotional Understanding)
- ëŒ€í™” ê°€ì´ë“œ (Dialogue Guide)

### 2. ê²€ìƒ‰ ê¸°ëŠ¥

í‚¤ì›Œë“œë¡œ ì„¸ê³„ê´€ ê²€ìƒ‰ ë° ê´€ë ¨ ì„¸ê³„ê´€ ì¶”ì²œ

### 3. ëª¨ë‹ˆí„°ë§ ëŒ€ì‹œë³´ë“œ

- ì„¸ê³„ê´€ ê°•ë„ ë³€í™” ì¶”ì 
- ìƒˆë¡œìš´ ì„¸ê³„ê´€ ë°œê²¬ ì•Œë¦¼
- íŠ¸ë Œë“œ ë¶„ì„

---

## ğŸ¤ ê¸°ì—¬í•˜ê¸°

1. Fork the repository
2. Create your feature branch (`git checkout -b feature/AmazingFeature`)
3. Commit your changes (`git commit -m 'Add some AmazingFeature'`)
4. Push to the branch (`git push origin feature/AmazingFeature`)
5. Open a Pull Request

---

## ğŸ“„ ë¼ì´ì„¼ìŠ¤

MIT License - ììœ ë¡­ê²Œ ì‚¬ìš©, ìˆ˜ì •, ë°°í¬ ê°€ëŠ¥

---

## ğŸ“ ë¬¸ì˜

- Issues: [GitHub Issues](https://github.com/yourusername/moniterdc/issues)
- Email: your.email@example.com

---

## ğŸ™ ê°ì‚¬ì˜ ë§

ì´ í”„ë¡œì íŠ¸ëŠ” ë‹¤ìŒ ê¸°ìˆ ë“¤ì„ ì‚¬ìš©í•©ë‹ˆë‹¤:
- OpenAI GPT-4o
- Supabase
- Next.js
- Python asyncio

---

**Built with â¤ï¸ to bridge understanding gaps**

Last Updated: 2025-01-05
