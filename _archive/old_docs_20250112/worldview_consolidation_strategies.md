# 세계관 통합 전략 시뮬레이션

## 문제 정의
- 현재: 137개 개별 perception이 "독재와 사찰의 부활" 세계관에 묶여있음
- 문제: 세계관 레벨의 통합 정보가 없음 (각 perception의 deep_beliefs가 모두 다름)
- 목표: 사용자가 "이 세계관의 핵심 구조"를 이해할 수 있게 만들기

---

## 전략 1: 대표 Perception 자동 선택
**아이디어:** 137개 중 가장 "대표적인" perception 1-3개를 자동으로 선택

**방법:**
1. 모든 deep_beliefs를 TF-IDF 벡터화
2. 중심(centroid)에 가장 가까운 perception 찾기
3. 또는: 가장 많이 등장하는 패턴을 가진 perception

**장점:**
- 기존 데이터 구조 그대로 사용
- 구현 간단

**단점:**
- 여전히 개별 perception 수준
- 진짜 "통합"은 아님

---

## 전략 2: GPT 기반 세계관 요약 생성
**아이디어:** 137개 perception의 deep_beliefs를 GPT에게 주고 통합 요약 생성

**방법:**
```python
prompt = f"""
다음은 같은 세계관에 속한 137개 분석의 deep_beliefs입니다:

{all_deep_beliefs}

이들의 공통 패턴을 찾아 하나의 통합된 세계관 구조로 요약하세요:
1. 핵심 심층 믿음 3-5개
2. 전형적인 논리 연쇄
3. 핵심 주체와 속성
"""
```

**장점:**
- 진짜 통합된 구조 생성
- 세계관 레벨의 요약

**단점:**
- GPT API 비용
- 품질 보장 어려움

---

## 전략 3: 클러스터링 기반 하위 패턴 발견
**아이디어:** 137개를 다시 3-5개 하위 클러스터로 나누고 각각 요약

**방법:**
1. Deep_beliefs 임베딩
2. K-means로 3-5개 클러스터
3. 각 클러스터의 대표 패턴 추출

**결과 예시:**
```
세계관: "독재와 사찰의 부활"
├─ 패턴 A: 사찰과 감시 (45개 perception)
│   핵심: 민주당이 통신사 협박해서 개인정보 수집
├─ 패턴 B: 사법 장악 (52개 perception)
│   핵심: 판사 표적 삼아 사법부 통제
└─ 패턴 C: 친북 비호 (40개 perception)
    핵심: 친북 세력 보호 위해 공권력 동원
```

**장점:**
- 세계관 내부 구조 드러남
- 더 정교한 이해 가능

**단점:**
- 복잡도 증가
- 하위 패턴이 의미있을지 불확실

---

## 전략 4: 빈도 기반 핵심 요소 추출
**아이디어:** 가장 자주 등장하는 요소들을 통계적으로 추출

**방법:**
1. Explicit_claims의 subject 빈도 분석 → 핵심 주체
2. Deep_beliefs의 키워드 빈도 → 핵심 믿음
3. Implicit_assumptions의 공통 패턴 → 전제

**결과 예시:**
```
핵심 주체: 민주당(89회), 좌파(45회), 정권(34회)
핵심 키워드: 사찰(67회), 독재(54회), 권력(48회), 사법(41회)
공통 패턴: "권력 유지를 위해", "국가기관 동원", "반대파 제압"
```

**장점:**
- 객관적 (빈도 기반)
- 구현 간단

**단점:**
- 키워드 수준, 구조적 이해 부족

---

## 전략 5: 하이브리드 (대표 선택 + GPT 보강)
**아이디어:** 통계적으로 대표 3개 선택 + GPT로 세계관 요약 생성

**방법:**
1. 빈도 분석으로 핵심 주체/키워드 추출
2. 임베딩으로 대표 perception 3개 선택
3. 이 3개 + 빈도 분석 결과를 GPT에게 주고 세계관 요약 생성
4. worldview.frame.narrative에 저장

**결과 구조:**
```json
{
  "narrative": {
    "core_belief": "좌파 정권은 권력 유지를 위해 사찰과 사법 장악을 동원한다",
    "logic_chain": "사찰 감시 → 반대파 제압 → 사법부 장악 → 독재 체제 구축",
    "key_subjects": ["민주당", "좌파 정권", "국가기관"],
    "representative_perceptions": [id1, id2, id3],
    "examples": [
      {
        "case": "유심교체 사찰 사건",
        "pattern": "통신사 협박 → 개인정보 수집 → 판사 표적화"
      }
    ]
  }
}
```

**장점:**
- 통계 + AI 결합
- 대표성 + 요약 둘 다
- 기존 구조(narrative) 활용

**단점:**
- 구현 복잡
- GPT 비용

---

## 다음 단계: 시뮬레이션
각 전략을 "독재와 사찰의 부활" 세계관에 실제 적용하여 결과 비교
