# 세계관 생성 프로세스 상세 가이드

**작성일**: 2025-10-14
**목적**: 검토 및 개선을 위한 현재 시스템 분석

---

## 🌍 핵심 철학: "살아있는 세계관 시스템"

세계관은 **미리 정의하지 않고**, 실제 담론 데이터에서 **자동으로 발견**됩니다. 주기적으로 재분석하여 **진화/소멸/출현**을 추적하는 살아있는 시스템입니다.

---

## 📊 전체 파이프라인 (3단계)

```
┌─────────────────────────────────────────────────────────┐
│ 1단계: 개별 게시글 분석 (매일)                           │
│    게시글 → 3층 인식 + 추론구조 추출                     │
└─────────────────────────────────────────────────────────┘
                          ↓
┌─────────────────────────────────────────────────────────┐
│ 2단계: 세계관 발견 (주 1회)                              │
│    200개 최근 인식 → GPT-5 클러스터링 → 5-10개 세계관    │
└─────────────────────────────────────────────────────────┘
                          ↓
┌─────────────────────────────────────────────────────────┐
│ 3단계: 인식-세계관 매칭 (주 1회)                         │
│    각 인식을 가장 유사한 세계관에 연결                   │
└─────────────────────────────────────────────────────────┘
```

---

## 🔍 1단계: 개별 게시글 분석

**파일**: `engines/analyzers/reasoning_structure_extractor.py`

각 게시글에서 **추론 구조** 추출:

```python
{
  "mechanisms": ["즉시_단정", "필연적_인과", "네트워크_추론"],  # 5가지 중 사용된 것들
  "actor": {
    "subject": "중국 범죄조직",                # 누가/무엇이
    "purpose": "한국 내 범죄 활동 확대",        # 왜 행동하는가
    "methods": ["무비자 제도 악용", "조직적 잠입"]  # 어떻게
  },
  "logic_chain": [                            # 추론 단계별 흐름
    "맘카페 실종 글 증가 관찰",
    "중국인 무비자 입국 제도 존재",
    "중국 범죄조직 잠입 가능성 제기",
    "국내 실종 증가와 범죄조직 연관 추정"
  ],
  "deep_beliefs": [...]                       # 심층 세계관 (3층 분석)
}
```

### 실제 데이터 예시

```json
{
  "mechanisms": [
    "즉시_단정",
    "필연적_인과",
    "네트워크_추론"
  ],
  "actor": {
    "methods": [
      "무비자 제도 악용",
      "조직적 잠입"
    ],
    "purpose": "한국 내 범죄 활동 확대",
    "subject": "중국 범죄조직"
  },
  "logic_chain": [
    "맘카페 실종 글 증가 관찰",
    "중국인 무비자 입국 제도 존재",
    "중국 범죄조직 잠입 가능성 제기",
    "국내 실종 증가와 범죄조직 연관 추정"
  ],
  "deep_beliefs": [
    "중국발 조직범죄는 조직적·잔혹하며, 국경 완화나 방심이 곧 치안 붕괴로 이어진다",
    "이민·관광 규제 완화(무비자 등)는 필연적으로 범죄 유입과 사회적 위험 증가를 초래한다",
    "국가나 주류 언론은 민감한 범죄를 늦게 알리거나 은폐·축소하고, 대안 매체와 온라인 커뮤니티가 먼저 경보를 울린다",
    "초기 징후(커뮤니티의 실종 글 증가)를 무시하면 대형 참사(장기밀매 등)로 발전한다는 '전조-폭발' 패턴을 믿는다",
    "대중의 관심과 구독 증가 같은 시장 신호는 정보의 진실성·중요성을 반영한다"
  ]
}
```

**핵심 포인트**:
- 개별 게시글마다 독립적으로 추론 구조 분석
- 아직 세계관은 없음 (단순히 "이 글은 이렇게 생각한다" 수집)
- 501개 인식 누적 (2025-10-14 현재)

---

## 🧠 2단계: 세계관 자동 발견 (핵심!)

**파일**: `engines/analyzers/worldview_evolution_engine.py` (91-181번 줄)

### 입력: 200개 최근 인식

```python
perceptions = [
  {
    "mechanisms": ["즉시_단정", "역사_투사"],
    "actor": "민주당/좌파",
    "purpose": "독재 시도",
    "logic_chain": ["정보 파악" → "합법 검증 건너뛰기" → "불법 사찰"]
  },
  {
    "mechanisms": ["즉시_단정", "역사_투사"],
    "actor": "민주당/좌파",
    "purpose": "국가 장악",
    "logic_chain": ["통신 영장" → "사법부 장악 추정" → "독재 기구"]
  },
  # ... 200개
]
```

### GPT-5 프롬프트 (핵심 로직)

worldview_evolution_engine.py의 113-160번 줄에 있는 실제 프롬프트:

```python
prompt = f"""
다음은 DC Gallery 정치 글 {len(summary_data)}개의 추론 구조 분석 결과입니다.

{json.dumps(summary_data, ensure_ascii=False, indent=1)}

이 데이터를 분석해서 **5-10개의 핵심 세계관**을 추출해주세요.

**요구사항:**

1. 각 세계관은 **추론 메커니즘 기반**이어야 합니다 (주제가 아님)
   - 좋은 예: "민주당의 어떤 행동도 독재 시도로 해석하는 구조"
   - 나쁜 예: "민주당에 대한 인식" (이건 주제임)

2. 각 세계관은 **다양한 사건에 적용 가능**해야 합니다
   - 유심교체, 집회제한, 법안발의 등 전혀 다른 사건에도 같은 논리 적용

3. 행위자 중심으로 분류:
   - 민주당/좌파에 대한 해석
   - 중국에 대한 해석
   - 언론/사법부에 대한 해석
   - 보수 진영 자신들에 대한 해석

4. 각 세계관마다:
   - 핵심 메커니즘 (즉시_단정, 필연적_인과 등)
   - 행위자
   - 추정 목적
   - 논리 구조 (A → B → C)

JSON 형식:
{
  "worldviews": [
    {
      "title": "민주당/좌파의 정보 파악 → 즉시 불법/사찰로 해석",
      "actor": "민주당/좌파",
      "core_mechanisms": ["즉시_단정", "역사_투사"],
      "logic_pattern": {
        "trigger": "민주당이 어떤 정보를 알고 있음",
        "skipped_verification": ["정보 출처 확인", "합법 가능성"],
        "conclusion": "불법 사찰 및 독재 시도"
      },
      "examples": ["유심교체 정보", "집회 정보"],
      "estimated_coverage_pct": 15
    }
  ]
}

**중요:** 통합 시 특정성을 잃지 마세요. 각 세계관은 구체적인 논리 패턴을 가져야 합니다.
"""
```

### 출력: 세계관 구조

GPT-5가 생성한 세계관 JSON:

```json
{
  "worldviews": [
    {
      "title": "민주당/좌파의 정보 파악 → 즉시 불법 사찰·장악으로 해석",
      "actor": "민주당/좌파",
      "core_mechanisms": ["즉시_단정", "역사_투사", "네트워크_추론"],
      "logic_pattern": {
        "trigger": "민주당/좌파가 개인·집회·통신 관련 정보를 알고 있거나 선제적으로 대응",
        "skipped_verification": [
          "합법적 취득 가능성(제보·공개정보)",
          "영장·절차 존재 여부",
          "개별 기관의 자율 판단"
        ],
        "conclusion": "불법 사찰·통신사 협박·사법부 장악 등 조직적 독재 시도"
      },
      "examples": [
        "지귀연 유심/핸드폰 교체 정보 사전 인지",
        "보수 인사 대상 통신영장 문자 수신 정황",
        "집회 정보·동선 파악"
      ],
      "estimated_coverage_pct": 16
    }
  ]
}
```

### 실제 DB에 저장된 세계관 예시

```json
{
  "id": "dc6f1515-5004-4619-9444-99f22860d0f5",
  "title": "민주당/좌파의 정보 파악 → 즉시 불법 사찰·장악으로 해석",
  "frame": "{\"title\":\"민주당/좌파의 정보 파악 → 즉시 불법 사찰·장악으로 해석\",\"actor\":\"민주당/좌파\",\"core_mechanisms\":[\"즉시_단정\",\"역사_투사\",\"네트워크_추론\"],\"logic_pattern\":{\"trigger\":\"민주당/좌파가 개인·집회·통신 관련 정보를 알고 있거나 선제적으로 대응\",\"skipped_verification\":[\"합법적 취득 가능성(제보·공개정보)\",\"영장·절차 존재 여부\",\"개별 기관의 자율 판단\"],\"conclusion\":\"불법 사찰·통신사 협박·사법부 장악 등 조직적 독재 시도\"},\"examples\":[\"지귀연 유심/핸드폰 교체 정보 사전 인지\",\"보수 인사 대상 통신영장 문자 수신 정황\",\"집회 정보·동선 파악\"],\"estimated_coverage_pct\":16}",
  "description": "불법 사찰·통신사 협박·사법부 장악 등 조직적 독재 시도",
  "core_subject": "민주당/좌파",
  "core_attributes": ["즉시_단정", "역사_투사", "네트워크_추론"],
  "overall_valence": "negative",
  "total_perceptions": 125,
  "version": 1,
  "archived": false,
  "created_at": "2025-10-12T12:17:49.768202+00:00"
}
```

**세계관 논리 구조**:
```
트리거: 민주당이 어떤 정보를 알고 있음
         ↓
건너뛴 검증: [합법 취득 가능성, 영장 존재, 개별 기관 판단]
         ↓
결론: 불법 사찰 및 조직적 독재 시도
```

**적용 사례**:
- 유심교체 정보 → "사찰"
- 통신영장 문자 → "통신사 협박"
- 집회 정보 파악 → "동선 감시"

**메커니즘**: 즉시_단정 + 역사_투사 + 네트워크_추론

---

## 🔗 3단계: 인식-세계관 매칭

**파일**: `engines/analyzers/mechanism_matcher.py`

각 개별 인식을 가장 유사한 세계관에 연결:

```python
매칭 점수 =
  - 행위자 유사도 (50%): "민주당/좌파" vs "민주당/좌파" → 높은 점수
  - 메커니즘 유사도 (30%): ["즉시_단정", "역사_투사"] 겹침 → 높은 점수
  - 논리 유사도 (20%): logic_chain 흐름 비교
```

**결과**:
- 인식 501개 → 7개 세계관에 분산 연결
- 현재 가장 큰 세계관: 125개 인식 포함 (16% coverage)

---

## 🔄 진화 시스템 (Living System)

**주기적 재분석** (주 1회 권장):

```bash
python3 scripts/run_worldview_evolution.py
```

### 변화 감지 프로세스

**파일**: `engines/analyzers/worldview_evolution_engine.py` (192-280번 줄)

GPT-5를 사용하여 기존 세계관과 새로 발견된 세계관 비교:

```python
comparison_prompt = f"""
기존 세계관 ({len(existing_parsed)}개):
{json.dumps([{'title': e['title']} for e in existing_parsed], ensure_ascii=False, indent=2)}

새 세계관 ({len(new)}개):
{json.dumps([{'title': w['title'], 'actor': w['actor']} for w in new], ensure_ascii=False, indent=2)}

이 두 세계관 목록을 비교하고 변화를 분석해주세요:

1. **새로 등장한 세계관** (기존에 없던 것)
2. **사라진 세계관** (새 목록에 없는 것)
3. **변화한 세계관** (비슷하지만 내용이 달라진 것)
4. **유지된 세계관** (거의 같은 것)

JSON 형식:
{
  "new_worldviews": ["새 세계관 title 1", ...],
  "disappeared_worldviews": ["사라진 세계관 title 1", ...],
  "evolved_worldviews": [
    {
      "old_title": "기존 title",
      "new_title": "새 title",
      "change_description": "변화 설명"
    }
  ],
  "stable_worldviews": ["유지된 세계관 title 1", ...],
  "significant": true,  // 유의미한 변화가 있는가?
  "summary": "변화 요약 (1-2문장)"
}
"""
```

### 변화 유형

1. **신규 세계관**: 새로운 담론 패턴 등장
2. **소멸 세계관**: 더 이상 나타나지 않음 → 아카이브
3. **진화 세계관**: 비슷하지만 내용 변화
4. **유지 세계관**: 안정적으로 지속

### 최근 진화 리포트 (2025-10-13)

파일: `_evolution_report_20251013_172832.json`

```json
{
  "timestamp": "2025-10-13T17:28:32",
  "changes_detected": true,
  "new_count": 1,
  "disappeared_count": 5,
  "evolved_count": 13,
  "stable_count": 1,
  "summary": "기존 세계관들이 더욱 구체화되고 세분화되는 경향..."
}
```

---

## 💡 핵심 설계 원칙

### 1. **추론 구조 중심** (주제 중심 ❌)

❌ 나쁜 예: "민주당에 대한 인식" (단순 주제 분류)
✅ 좋은 예: "민주당의 정보 파악 → 검증 생략 → 사찰로 해석" (추론 패턴)

**이유**: 같은 주제(민주당)라도 다양한 추론 방식이 존재할 수 있음

### 2. **데이터 주도** (사전 정의 ❌)

- 연구자가 미리 세계관 정의 ❌
- 실제 담론에서 패턴 자동 발견 ✅

**이유**: 연구자의 편향을 최소화하고 실제 담론 구조를 있는 그대로 포착

### 3. **살아있는 시스템** (고정 분류 ❌)

- 담론 변화에 따라 세계관도 변화
- 주기적 재분석으로 진화 추적

**이유**: 온라인 담론은 빠르게 변화하므로 고정된 분류는 금방 낡음

### 4. **다층 구조**

```
개별 인식 (501개)
    ↓ 메커니즘 기반 클러스터링
세계관 (7개)
    ↓ 시간에 따른 변화
진화 히스토리
```

**이유**: 미시(개별 글) → 중시(세계관) → 거시(진화) 구조 파악

---

## 📈 현재 상태 (2025-10-14)

### 통계

- **인식**: 501개 분석 완료
- **세계관**: 7개 활성화 (20개에서 정리)
- **커버리지**: ~63% (316/501)
- **메커니즘**: 5가지 추론 패턴 활용

### 5가지 메커니즘

1. **즉시_단정** (Instant Conclusion): 관찰 → 결론 (검증 생략)
2. **역사_투사** (Historical Projection): 과거 패턴 → 현재 반복
3. **필연적_인과** (Inevitable Causation): X → 필연적으로 Y
4. **네트워크_추론** (Network Reasoning): 연결 → 조직적 음모
5. **표면_부정** (Surface Negation): 표면 X / 실제 Y

### 7개 활성 세계관 (예상)

1. 민주당 정보 파악 → 불법 사찰
2. 중국 관련 → 조직 범죄 위협
3. 보수 행동 → 애국/정당방위
4. 언론/사법 → 좌파 장악
5. ...

---

## 🎯 요약

**세계관 생성 = 상향식 패턴 발견**

```
개별 게시글 추론 구조 수집 (매일)
         ↓
GPT-5 클러스터링 (주 1회)
         ↓
5-10개 세계관 자동 발견
         ↓
변화 감지 & 진화 추적
```

**핵심**: 연구자가 정의하지 않고, AI가 담론에서 **반복되는 추론 패턴**을 발견하여 세계관으로 구조화합니다.

---

## 🔧 검토 포인트 (개선 시 체크)

### 1단계 (개별 분석)
- [ ] 추론 구조 추출 정확도
- [ ] 메커니즘 5가지 분류 적절성
- [ ] Actor 구조 설계 (subject/purpose/methods)
- [ ] logic_chain 추출 방식

### 2단계 (세계관 발견)
- [ ] GPT-5 프롬프트 최적화
- [ ] 5-10개 범위 적절성
- [ ] 클러스터링 기준 (메커니즘 vs 주제)
- [ ] coverage_pct 추정 방식

### 3단계 (매칭)
- [ ] 매칭 점수 가중치 (50/30/20)
- [ ] 임계값 설정
- [ ] 다중 세계관 연결 가능 여부

### 진화 시스템
- [ ] 변화 감지 민감도
- [ ] 아카이브 vs 삭제 정책
- [ ] 주기 (주 1회 vs 더 자주)
- [ ] 샘플 크기 (200개)

### 전체 시스템
- [ ] 커버리지 63% 수용 가능성
- [ ] 세계관 수 (7개) 적절성
- [ ] GPT-5 비용 최적화
- [ ] 재현성/일관성 확보

---

**다음 스텝**: 각 검토 포인트를 하나씩 분석하며 개선 방향 논의
